<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <title>Make-yaml</title>

    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!--引入switch-->
    <link rel="stylesheet" href="resource/switch/bootstrap-switch.min.css">
    <link rel="stylesheet" href="resource/select2/select2.min.css">
    <style>
        .clear-fix {
            clear: both;
        }
    </style>
</head>
<body>
<div class="container">
    <div class="row navbar navbar-default navbar-fixed-top" style="padding:0 0 20px 80px;font-size: 16px;">
        <h1 style="font-size: 14px;margin-top: 10px;">Easy To Make Swagger Yaml</h1>
        <h2 style="font-size: 16px;">可选内容</h2>
        <!--Info-->
        <div class="btn-group">
            <button type="button" class="btn btn-success" id="Info-btn">Info</button>
            <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false">
                <span class="caret"></span>
                <span class="sr-only">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu">
                <li><a href="javascript:;">description</a></li>
                <li><a href="javascript:;">version</a></li>
                <li><a href="javascript:;">title</a></li>
                <li><a href="javascript:;">termsOfService</a></li>
                <li><a href="javascript:;">contact</a></li>
                <li><a href="javascript:;">┗ email </a></li>
                <li><a href="javascript:;">license</a></li>
                <li><a href="javascript:;">┣ name</a></li>
                <li><a href="javascript:;">┗ url</a></li>
            </ul>
        </div>
        <!--host-->
        <div class="btn-group">
            <button type="button" class="btn btn-success" id="host-btn">host</button>
        </div>
        <!--basePath-->
        <div class="btn-group">
            <button type="button" class="btn btn-success" id="basePath-btn">basePath</button>
        </div>
        <!--schemes-->
        <div class="btn-group">
            <button type="button" class="btn btn-success" id="schemes-btn">schemes</button>
            <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false">
                <span class="caret"></span>
                <span class="sr-only">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu">
                <li><a href="javascript:;">http</a></li>
                <li><a href="javascript:;">https</a></li>
            </ul>
        </div>
        <!--tags-->
        <div class="btn-group">
            <button type="button" class="btn btn-default" id="tags-btn">tags <span class="glyphicon glyphicon-plus"
                                                                                   aria-hidden="true"></span></button>
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false">
                <span class="caret"></span>
                <span class="sr-only">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu">
                <li><a href="javascript:;">name</a></li>
                <li><a href="javascript:;">description</a></li>
                <li><a href="javascript:;">externalDocs</a></li>
                <li><a href="javascript:;">┣ description</a></li>
                <li><a href="javascript:;">┗ url </a></li>
            </ul>
        </div>
        <div class="btn-group">
            <button type="button" class="btn btn-default" id="path-btn">paths <span class="glyphicon glyphicon-plus"
                                                                                    aria-hidden="true"></span></button>
            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false">
                <span class="caret"></span>
                <span class="sr-only">Toggle Dropdown</span>
            </button>
            <ul class="dropdown-menu">
                <li><a href="javascript:;">path</a></li>
                <li><a href="javascript:;">type</a></li>
                <li><a href="javascript:;">┣ post</a></li>
                <li><a href="javascript:;">┣ get</a></li>
                <li><a href="javascript:;">┣ put</a></li>
                <li><a href="javascript:;">┗ delete</a></li>
                <li><a href="javascript:;">tags</a></li>
                <li><a href="javascript:;">summary</a></li>
                <li><a href="javascript:;">description</a></li>
                <li><a href="javascript:;">operationId</a></li>
                <li><a href="javascript:;">consumes</a></li>
                <li><a href="javascript:;">┣ application/json</a></li>
                <li><a href="javascript:;">┗ application/xml </a></li>
                <li><a href="javascript:;">produces</a></li>
                <li><a href="javascript:;">┣ application/json</a></li>
                <li><a href="javascript:;">┗ application/xml </a></li>
                <li><a href="javascript:;">parameters</a></li>
                <li><a href="javascript:;">┣ in</a></li>
                <li><a href="javascript:;">┣ name</a></li>
                <li><a href="javascript:;">┣ description</a></li>
                <li><a href="javascript:;">┣ required</a></li>
                <li><a href="javascript:;">┗ schema </a></li>
                <li><a href="javascript:;">responses</a></li>
                <li><a href="javascript:;">┣ 405</a></li>
                <li><a href="javascript:;">&nbsp;&nbsp;&nbsp;┗ description</a></li>
            </ul>
        </div>
    </div>
    <div class="row" style="margin: 180px 0 0 0 ;">
        <form action="index.php" method="get">
            <div class="form-group">
                <label for="exampleInputEmail1">Swagger</label>
                <input type="text" class="form-control" id="exampleInputEmail1"
                       placeholder="2.0" value="2.0">
                <small id="emailHelp" class="form-text text-muted">请输入Swagger版本，默认为2.0</small>
            </div>
            <div class="info col-md-12" style="display: none">
                <h1>Info</h1>
            </div>
            <div class="form-group info col-md-6" style="display: none">
                <label>version</label>
                <input type="text" class="form-control" name="info[version]"
                       placeholder="version">
                <small class="form-text text-muted">接口版本</small>
            </div>
            <div class="form-group info col-md-6" style="display: none">
                <label>title</label>
                <input type="text" class="form-control" name="info[title]"
                       placeholder="title">
                <small class="form-text text-muted">标题</small>
            </div>
            <!--<div class="form-group info col-md-6" style="display: none">-->
            <!--<label>termsOfService</label>-->
            <!--<input type="text" class="form-control" name="info[termsOfService]"-->
            <!--placeholder="termsOfService">-->
            <!--<small class="form-text text-muted">termsOfService</small>-->
            <!--</div>-->
            <div class="form-group info col-md-6" style="display: none">
                <label>Description</label>
                <textarea class="form-control" name="info[description]"></textarea>
                <small class="form-text text-muted">描述</small>
            </div>
            <h2 class="info col-md-12" style="display: none">┗ contact</h2>
            <div class="form-group info col-md-10" style="display: none">
                <label>email</label>
                <input type="email" class="form-control" name="info[contact][email]"
                       placeholder="email">
                <small class="form-text text-muted">邮箱</small>
            </div>
            <h2 class="info col-md-12" style="display: none">┗ license</h2>
            <div class="form-group info col-md-6" style="display: none">
                <label>name</label>
                <input type="name" class="form-control" name="info[license][name]"
                       placeholder="name">
                <small class="form-text text-muted">名称</small>
            </div>
            <div class="form-group info col-md-6" style="display: none">
                <label>url</label>
                <input type="url" class="form-control" name="info[license][url]"
                       placeholder="url">
                <small class="form-text text-muted">url</small>
            </div>
            <div class="clear-fix"></div>
            <!--host start-->
            <div class="form-group" id="host" style="display: none">
                <label>host</label>
                <input type="text" class="form-control" name="host"
                       placeholder="host">
            </div>
            <!--basePath-->
            <div class="form-group" id="basePath" style="display: none">
                <label>basePath</label>
                <input type="text" class="form-control" name="basePath"
                       placeholder="basePath">
            </div>
            <!--schemes-->
            <div class="form-check" id="schemes" style="display: none">
                <p><label>host</label></p>
                <label class="col-md-3">
                    http &nbsp;&nbsp; <input type="checkbox" class="switch" name="schemes[]" value="http">
                </label>
                <label class="col-md-3">
                    https &nbsp;&nbsp; <input type="checkbox" class="switch" name="schemes[]" value="https">
                </label>
            </div>
            <div class="clear-fix"></div>
            <!--tags start-->
            <div id="tags-clone">

            </div>
            <!--path start-->
            <div id="path-clone">

            </div>


            <div class="clear-fix"></div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
</div>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://cdn.bootcss.com/jquery/1.12.4/jquery.min.js"></script>
<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>
<!--引入switch-->
<script src="resource/switch/bootstrap-switch.min.js"></script>
<script src="resource/select2/select2.full.min.js"></script>
<script>
    // switch


    function showAndHide(selector, op) {
        $(op).click(function () {
            if ($(selector).is(':hidden')) {//如果当前隐藏
                $(selector).show();//那么就显示div
            } else {//否则
                $(selector).hide();//就隐藏div
            }
        });
        $('.select2').select2();
        $('.switch').bootstrapSwitch({});
    }

    showAndHide('.info', '#Info-btn');
    showAndHide('#host', '#host-btn');
    showAndHide('#basePath', '#basePath-btn');
    showAndHide('#schemes', '#schemes-btn');

    var tagNum = 0;
    $('#tags-btn').click(function () {
        tagsAdd(tagNum);
        tagNum++;
    });

    var pathNum = 0;
    $('#path-btn').click(function () {
        pathAdd(pathNum);
        pathNum++;
    });

    // 添加标签
    function tagsAdd(i) {
        var html = '<div class="tags-clone"> \
                <h1 class="tags" >tags';
        html += '</h1><div class="form-group tags col-md-6"> \
            <label>name</label> \
            <input type="name" class="form-control" name="tags[' + i + '][name]" \
            placeholder="name"> \
                <small class="form-text text-muted">名称</small> \
            </div> \
            <div class="form-group tags col-md-6"> \
            <label>description</label> \
            <input type="description" class="form-control" name="tags[' + i + '][description]" \
            placeholder="description"> \
                <small class="form-text text-muted">标签描述</small> \
            </div> \
            </div>';
        $('#tags-clone').append(html);
    }

    // 删除path
    function pathRemove(i) {
        $('.path-clone')[i].remove();
    }

    // 增加path
    function pathAdd(i) {
        var j = 0;
        var html = '<div class="clear-fix"></div><div class="path-clone"> \
                <h1 class="path" >path-' + i;
        if (0 != i) {
            html += ' <small><span class="glyphicon glyphicon-remove-circle" onclick="pathRemove(' + i + ')"></span></small>';
        }
        html += '&nbsp;&nbsp;<small class="btn btn-default" onclick="paraAdd(' + i + ')">parameters <span class="glyphicon glyphicon-plus"></span></small></h1>';
        html += '\
            <div class="form-group path col-md-6"> \
            <label>接口地址</label> \
            <input type="description" class="form-control" name="path[' + i + '][path]" \
            placeholder="path"> \
                <small class="form-text text-muted">接口地址</small> \
            </div> \
            <div class="form-group path col-md-6"> \
            <label>type</label> \
            <select name="path[' + i + '][type]" class="select2 form-control"> \
            <option value="post">post</option> \
            <option value="get">get</option> \
            <option value="put">put</option> \
            <option value="delete">delete</option> \
            </select> \
            <small class="form-text text-muted">接口类型</small> \
            </div> \
            <div class="form-group path col-md-6"> \
            <label>description</label> \
            <input type="description" class="form-control" name="path[' + i + '][description]" \
            placeholder="description"> \
                <small class="form-text text-muted">描述</small> \
            </div> \
            <div class="form-group path col-md-6"> \
            <label>consumes</label> \
            <select name="type" class="select2 form-control" multiple > \
            <option value="application/json">application/json</option> \
            <option value="application/xml">application/xml</option> \
            </select> \
            </div> \
            <div id="parameters' + i + '">\
            \
            </div> \
            </div>';
        $('#path-clone').append(html);
        $('.select2').select2();
        $('.switch').bootstrapSwitch({});
    }

    /**
     * 删除参数
     * @param i
     */
    function paraRemove(i) {
        $('#parameters' + i).remove();
    }

    /**
     * 增加参数
     * @param i
     */
    function paraAdd(i) {
        var j = 0;
        var html = '<h2 class="path col-md-12">┗ parameters ['+ i +']';
        html += '&nbsp;&nbsp;<small><span class="glyphicon glyphicon-remove-circle" onclick="paraRemove('+ j +')"></span></small></h2> \
            <div class="form-group path col-md-6"> \
            <label>in</label> \
            <select name="path[' + i + '][parameters][' + j + '][in]" class="select2 form-control">\
                <option value="body">body</option>\
                <option value="path">path</option>\
                <option value="query">query</option>\
            </select>\
            </div> \
            <div class="form-group path col-md-6"> \
            <label>name</label> \
            <input type="name" class="form-control" name="path[' + i + '][parameters][' + j + '][name]" \
            placeholder="name"> \
            </div> \
            <div class="form-group path col-md-6"> \
            <label>description</label> \
            <input type="description" class="form-control" name="path[' + i + '][parameters][' + j + '][description]" \
            placeholder="description"> \
            </div> \
            <div class="form-group path col-md-6"> \
            <label>required</label> \
            <input type="checkbox" class="form-control switch" name="path[' + i + '][parameters][' + j + '][required]" \
            placeholder="required" checked data-on-text="必填" data-off-text="非必填" value="true"> \
            </div> \
            <div class="form-group path col-md-6"> \
            <label>schema</label> \
            <input type="schema" class="form-control" name="path[' + i + '][parameters][' + j + '][schema]" \
            placeholder="schema"> \
            </div>';

        $('#parameters' + i).append(html);
        $('.select2').select2();
        $('.switch').bootstrapSwitch({});
    }


</script>
</body>
</html>